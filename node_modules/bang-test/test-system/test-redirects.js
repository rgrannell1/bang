
"use strict"





var bangServer = require('bang/app/bang')
var engines    = require('bang/data/engines.json')
var constants  = require('bang-test/commons/constants')
var random     = require('bang-test/commons/random')





var config = { }

config.SERVER_ARGS = {

	port:  constants.TEST_PORT,
	trace: false,
	fatalErrorHandler: (errors, err) => {

		logger.error({
			err
		}, 'Bang! server threw an error for a query')

		errors.push(err)

	}
}





describe('# server redirection (known cases)', function ( ) {

	var testResults
	var testServer
	var serverErrors = [ ]

	before(done => {

		bangServer(config.SERVER_ARGS, (app, server) => {

			testServer = {app, server}
			done( )

		})

	})

	xit('redirects to the correct engine', done => {

		engine.forEach(engine => {

			// -- create query
			// -- redirect to each pattern in each possible way

		})

		done( )

	})

	xit('only redirects for valid patterns', done => {

		engine.forEach(engine => {

		})

		done( )

	})

	after(done => {
		done( )
	})

})
