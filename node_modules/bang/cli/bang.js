

"use strict"




var doc = `
Usage:
	bang [-p X | --port X] [-t | --trace]
	bang (-h | --help | --version)

Description:

	Bang is a redirect-server redirects queries to a relevant search engine based on
	engine flags.

Options:
	-p X, --port X    the port to run the server from [default: 8025]
	-t, --trace       should requested URLs / redirects be logged?
	-h, --help        display these help files.
`




var docopt     = require('docopt').docopt
var bangServer = require('bang/app/bang')
var args       = docopt(doc)

var utils      = require('bang/commons/utils')
var logger     = require('bang/logging/logger')



try {

	bangServer(
		[ ],
		{

			port:  args['--port'],
			trace: args['--trace']

		}, app => {

	})

} catch (err) {

	logger.error({message: err.message, stack: err.stack.toString( )}, 'uncaught exception.')

}
